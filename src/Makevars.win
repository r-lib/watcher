PKG_CFLAGS = -I../w-install${R_ARCH}/include $(C_VISIBILITY)
PKG_LIBS = ../w-install${R_ARCH}/lib/libfswatch.a -pthread -lstdc++fs

SOURCES = init.c watcher.c
OBJECTS = $(SOURCES:.c=.o)

.PHONY: all cleanup clean

all: cleanup

cleanup: $(SHLIB)
	@rm -rf ../w-install${R_ARCH}

$(SHLIB): $(OBJECTS)

clean:
	rm -f $(OBJECTS) $(SHLIB)
